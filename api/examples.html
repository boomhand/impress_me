<html>
<head>
<title>StackMob JS SDK Examples</title>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
<script type="text/javascript" src="http://static.stackmob.com/js/json2-min.js"></script>
<script type="text/javascript" src="http://static.stackmob.com/js/underscore-1.3.3-min.js"></script>
<script type="text/javascript" src="http://static.stackmob.com/js/backbone-0.9.2-min.js"></script>
<script type="text/javascript" src="http://static.stackmob.com/js/stackmob-js-0.5.2-min.js"></script>
<script type="text/javascript" src="http://static.stackmob.com/resources/js/jsonFormatter-0.1.0-min.js"></script>
<script type="text/javascript">
  //Find your info here: https://www.stackmob.com/platform/account/apps/reset
  StackMob.init({
    appName: 'your app name',
    clientSubdomain: 'your client domain',
    publicKey: 'your public key',
    apiVersion: 0
  });
</script>

<script type="text/javascript" src="examples.js"></script>

<style type="text/css">
  /* <![CDATA[ */
  #results-container {
    position: fixed;
    top: 50px;
    right: 50px;
    background-color: #FFF;
    border: 1px solid #CCC;
    padding: 10px;
  }
  /* ]]> */
</style>

</head>
<body>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : 'your facebook app id', // App ID
      channelUrl : '//localhost/channel.html', // Channel File
      status     : true, // check login status
      cookie     : true, // enable cookies to allow the server to access the session
      xfbml      : true  // parse XFBML
    });

    // Additional initialization code here
  };

  // Load the SDK Asynchronously
  (function(d){
     var js, id = 'facebook-jssdk'; if (d.getElementById(id)) {return;}
     js = d.createElement('script'); js.id = id; js.async = true;
     js.src = '//connect.facebook.net/en_US/all.js';
     d.getElementsByTagName('head')[0].appendChild(js);
   }(document));
</script>

<h1>StackMob JS SDK Examples</h1>

<div id="fb-root"></div>

<h2>User CRUD</h2>
<ul>
  <li><a id="user_create" href="javascript:void(0);">Create User: Bruce Wayne</a></li>
  <li><a id="user_read" href="javascript:void(0);">Read User: Bruce Wayne</a></li>
  <li><a id="user_update" href="javascript:void(0);">Update User: Bruce Wayne turns 51</a></li>
  <li><a id="user_delete" href="javascript:void(0);">Delete user: Bruce Wayne</a></li>
</ul>

<h2>Login/Logout</h2>
<ul>
  <li><a id="login" href="javascript:void(0);">Login (make sure Bruce Wayne from above is created first)</a></li>
  <li><a id="logout" href="javascript:void(0);">Logout (make sure Bruce Wayne from above is logged in first)</a></li>
</ul>

<h2>Custom Model: Book</h2>
<ul>
  <li><a id="book_createbooks" href="javascript:void(0);">Create Books</a></li>
  <li><a id="book_delete" href="javascript:void(0);">Delete Books</a></li>
</ul>

<h2>Advanced Queries: StackMobQuery</h2>
<ul>
  <li><a id="smq_getall" href="javascript:void(0);">Get Test Objects</a></li>
  <li><a id="smq_createall" href="javascript:void(0);">Create Test Objects</a></li>
  <li><a id="smq_deleteall" href="javascript:void(0);">Delete Test Objects</a></li>
  <li><a id="smq_equals" href="javascript:void(0);">Equals: <code>number</code> = 15</a></li>
  <li><a id="smq_notequals" href="javascript:void(0);">Not Equals: <code>number</code> != 15</a></li>
  <li><a id="smq_count" href="javascript:void(0);">Count of Objects where number=15</a></li>
  <li><a id="smq_lt" href="javascript:void(0);">Less Than: <code>number</code> < 5</a></li>
  <li><a id="smq_lte" href="javascript:void(0);">Less Than Equals to: <code>number</code> <= 5</a></li>
  <li><a id="smq_gt" href="javascript:void(0);">Greater Than: Number > 20</a></li>
  <li><a id="smq_gte" href="javascript:void(0);">Greater Than Equals To: <code>number</code> >= 20</a></li>
  <li><a id="smq_isnull" href="javascript:void(0);">Is Null: <code>number</code></a></li>
  <li><a id="smq_isnotnull" href="javascript:void(0);">Is Not Null: <code>number</code></a></li>
  <li><a id="smq_mustbeoneof" href="javascript:void(0);">Must Be One Of: <code>number</code> is 1, 5, or 10</a></li>
  <li><a id="smq_orderByAsc" href="javascript:void(0);">Order Ascending: <code>number</code> in ascending order</a></li>
  <li><a id="smq_orderByDesc" href="javascript:void(0);">Order Descending: <code>number</code> in descending order</a></li>
  <li><a id="smq_range" href="javascript:void(0);">Range (Pagination): Get fifth through ninth results, order ascended by <code>number</code>)</a></li>
  <li><a id="smq_gte_lte_expression" href="javascript:void(0);">Multiple query combos: 3 <= <code>number</code> <= 5 and order by <code>number</code> ascending</a></li>
</ul>

<h2>Geospatial (Lat/Lon)</h2>
<p>
  You need to have a Schema named "attraction" with a geopoint called "location".
  Create one at http://www.stackmob.com/platform/
  //e.g.
  {
    'name': STRING,
    'location': GEOPOINT
  }
</p>
<ul>
  <li><a id="geo_saveattractions" href="javascript:void(0);">Save Attractions</a></li>
  <li><a id="geo_getattractions" href="javascript:void(0);">Get Attractions</a></li>
  <li><a id="geo_clearallattractions" href="javascript:void(0);">Delete All Attractions</a></li>
  <li><a id="geo_mustbenear" href="javascript:void(0);">Must Be Near</a></li>
  <li><a id="geo_iswithin" href="javascript:void(0);">Is Within</a></li>
  <li><a id="geo_iswithinbox" href="javascript:void(0);">Is Within Box</a></li>
</ul>


<h2>Array Methods: (append/remove/append+create)</h2>
<p>
  This assumes you have a <code>user</code> schema that has a <code>messages</code> field.
  The <code>messages</code> field is an array of <code>message</code> objects.  The <code>message</code> object
  has a String field called <code>content</code>.
</p>
<p>
  e.g.,
  <code>
    //User
    {
      'username': 'Bruce Wayne',
      'password': '...',
      'messages': ['a','b','c']
    }

    //Message
    {
      'message_id': 'a',
      'content': 'hello world'
    }
  </code>
</p>
<ul>
  <li><a id="rel_createuser" href="javascript:void(0);">Create User "Mr Rogers"</a></li>
  <li><a id="rel_getuser" href="javascript:void(0);">Get User "Mr Rogers"</a></li>
  <li><a id="rel_appendandcreate" href="javascript:void(0);">Create Messages and append to Mr. Rogers' <code>messages</code> array in one call</a></li>
  <li><a id="rel_appendandsave" href="javascript:void(0);">Add existing messages to Mr. Rogers' <code>messages</code> array</a></li>
  <li><a id="rel_getuserexpanded" href="javascript:void(0);">Get Expanded User "Mr Rogers"</a></li>
  <li><a id="rel_deleteandsave" href="javascript:void(0);">Remove messages from Mr. Rogers, but don't delete message data in one call.</a></li>
  <li><a id="rel_harddeleteandsave" href="javascript:void(0);">Remove messages from Mr. Rogers and delete the messages as well in one call</a></li>

  <li><a id="rel_deleteuser" href="javascript:void(0);">Delete User "Mr Rogers"</a></li>
  <li><a id="rel_getmsgs" href="javascript:void(0);">Get All Messages</a></li>
  <li><a id="rel_deletemsgs" href="javascript:void(0);">Delete all messages</a></li>


</ul>

<h2>Binary File Upload (S3 Integration)</h2>

<table>
  <tr>
    <td>File to Encode:</td>
    <td><input type="file" id="files" name="files[]" multiple /></td>
  </tr>
</table>


<h2>Custom Code</h2>
<ul>
  <li><a id="cc_helloworld" href="javascript:void(0);">Call hello_world custom code</a></li>
  <li><a id="cc_withparams" href="javascript:void(0);">Call CC with Params</a></li>
</ul>

<h2>Facebook</h2>
<ul>
  <li><a id="createUserFB" href="javascript:void(0);">Create User with Facebook</a></li>
  <li><a id="loginFB" href="javascript:void(0);">Log into Facebook</a></li>
  <li><a id="linkFB" href="javascript:void(0);">Link user with Facebook</a></li>
  <li><a id="getInfoFB" href="javascript:void(0);">Get Info from Facebook</a></li>
</ul>

<div id="results-container">
  <h3>Query Results:</h3>
  <div>(results also displayed in your FireBug/Developer Tools JS console)</div>
  <textarea id="results" rows="25" cols="80"></textarea>
</div>

</body>
</html>